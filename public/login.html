<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="shortcut icon" type="image/jpg" href="https://firebasestorage.googleapis.com/v0/b/gatorlink-fe67d.appspot.com/o/favicon.png?alt=media&token=cb4f3e7c-8adf-4f6c-80c3-bc5a733d4d1b"/>
    <link href="./login.css" rel="stylesheet" type="text/css" />
    <link href="./menu.css" rel="stylesheet" type="text/css" />
    <!--<link href="./style.css" rel="stylesheet" type="text/css"/>-->

    <!--link to fonts-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,600;1,700;1,800&display=swap" rel="stylesheet">
    
    <!--links to bootstrap-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>

    <!--connect with firebase-->
    <!--<script src="/__/firebase/8.2.10/firebase-app.js"></script> <script src="/__/firebase/8.2.10/firebase-analytics.js"></script> <script src="/__/firebase/init.js"></script>-->
</head>

<body class="purple-back">
    <div class="menu-wrap">
        <input type="checkbox" class="toggler">
        <div class="hamburger"><div></div></div>
        <div class="menu">
          <div>
            <div class = "options">
              <ul>
                <li><a href="./home.html">Home</a></li>
                <li><a href="./login.html">Log In</a></li>
                <li><a href="./about.html">About Us</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <header class="showcase">
          <div class="container showcase-inner w-auto">
            <form class="card py-5 px-3 w-45 my-5 mx-auto transparent-back round" id="login-form">
                <div class="form-group">
                    <h5 class="text-center"><img class="photo-login" src="https://firebasestorage.googleapis.com/v0/b/gatorlink-fe67d.appspot.com/o/login-logo.png?alt=media&token=d4fb030f-9660-4a0f-9412-352152fbc97b"></h5>
                    <label for="email" class="bold">Email address</label>
                    <input type="email" pattern=".+@mail.sfsu.edu" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email" required>
                </div>
                <br/>
                <div class="form-group">
                  <label for="password" class="bold">Password</label>
                  <input type="password" class="form-control" id="password" placeholder="Password" required>
                </div>
                <br/>
            
                <button type="submit" id="submit" class="btn dark-purple">Submit</button>
                <br/>
                <div class="text-center">
                    <a class="btn btn-warning b-0 m-0" href="register.html">New user? Create an account</a>
                </div>
                <br/>
              </form> 
          </div>
      </header>

      <script src= 
      "https://www.gstatic.com/firebasejs/3.7.4/firebase.js"> 
        </script> 
        
        <script> 
          var firebaseConfig = { 
            apiKey: "AIzaSyDnAfm2rBOKQVxKDXh5KsTr4r83Q-hBIiU",
            authDomain: "gatorlink-fe67d.firebaseapp.com",
            databaseURL: "https://gatorlink-fe67d-default-rtdb.firebaseio.com",
            projectId: "gatorlink-fe67d",
            storageBucket: "gatorlink-fe67d.appspot.com",
            messagingSenderId: "398115674330",
            appId: "1:398115674330:web:5a96520ea1c7d96b5d2de3",
            measurementId: "G-PVSC2E9ZCV"
          }; 
      
          firebase.initializeApp(firebaseConfig); 
      
          var messagesRef = firebase.database() 
            .ref('Collected Data'); 
          
          document.getElementById('login-form') 
            .addEventListener("submit", submitForm); 
      
          function submitForm(e) { 
            e.preventDefault(); 
      
            // Get values 
            var email = getInputVal('email'); 
            var password = getInputVal('password'); 
            
            signInSuccessUrl: '<https://gatorlink-fe67d.web.app/home.html#>'

            firebase.auth().signInWithEmailAndPassword(email, password)
            .then((userCredential) => {
              // Signed in
              var user = userCredential.user;
              // ...
              // Simulate a mouse click:
              window.location.href = "https://gatorlink-fe67d.web.app/home.html";
            })
            .catch((error) => {
              var errorCode = error.code;
              var errorMessage = error.message;
            });
          } 
      
          // Function to get get form values 
          function getInputVal(id) { 
            return document.getElementById(id).value; 
          } 

        </script> 
  </body>
</html>